# Gérer les fichiers

Vous devez lier ou charger des fichiers dans QualCoder avant de pouvoir les coder.

---

## Importer des fichiers
Importez du texte à partir de documents texte brut, docx, epub, md, odt, pdf et rtf (3.8+). Importez des images à partir des formats : jpg, jpeg et png. Importez des formats audio/vidéo : mp3, m4a, mp4, wav, mov, ogg. Les fichiers PDF peuvent être codés sous forme de texte ou d'image. Vous pouvez également créer des liens vers des fichiers stockés localement dans le système de fichiers de votre ordinateur. Cela peut être une bonne option si vous disposez d'une structure de dossiers spécifique importante pour votre projet.

Vous pouvez également lier des fichiers localement dans le système de fichiers de votre ordinateur.

Boutons d'importation et de liaison :
<img width="92" height="43" alt="Boutons d'importation et de liaison" src="https://github.com/user-attachments/assets/dc98a9ef-0d0c-4365-b444-9b2c3f145cab" />

Les fichiers liés peuvent être importés dans le dossier du projet, et inversement, les fichiers stockés dans le dossier du projet peuvent être exportés hors du dossier du projet et liés.

Boutons d'importation liée et d'exportation vers un fichier lié :
<img width="88" height="45" alt="Boutons d'importation liée et d'exportation vers un fichier lié" src="https://github.com/user-attachments/assets/81951366-1a88-4069-b82d-8d959cf2aaf4" />

---

### PDF – Extraction de texte brut

L'importation de PDF peut poser problème et nécessiter des corrections, car le formatage est perdu. Les gros fichiers PDF mettent longtemps à s'importer. QualCoder extrait le texte des fichiers PDF à l'aide de pdfminer.six, mais vous pouvez choisir d'utiliser un autre programme d'extraction pour obtenir le texte brut. Voici quelques suggestions : [www.pdf2go.com/](https://www.pdf2go.com/), [www.pdfmate.com/pdf-converter-free.html](https://www.pdfmate.com/pdf-converter-free.html), [pandoc.org](https://pandoc.org/). Copiez ensuite le texte brut extrait. Cependant, si vous souhaitez utiliser la fonction **Code PDF** dans QualCoder (qui permet de coder le texte tout en voyant le texte du PDF affiché comme dans le PDF original), vous devez utiliser l'extraction de texte brut de QualCoder et ne pas modifier le texte extrait.

---

### Pseudonymisation (désidentification des données)

À partir de la version 3.8, la pseudonymisation permet de remplacer des mots ou des phrases. Pour de nombreuses langues (sauf peut-être le chinois, le japonais et le coréen), si le caractère avant et après la phrase à pseudonymiser n'est ni alphabétique ni numérique, la coupure est facile à effectuer. La pseudonymisation est sensible à la casse. Les mots originaux doivent comporter au moins 2 caractères, et les pseudonymes au moins 3 caractères. Vous pouvez aussi laisser le champ du pseudonyme vide pour qu'un terme aléatoire soit généré.

Un bouton **« Anonymiser à l'import »** est accessible dans **Gérer les fichiers**. La liste des mots originaux et de leurs pseudonymes doit être en place avant toute importation. Elle ne s'applique pas rétroactivement aux documents déjà importés.
<img width="43" height="42" alt="image" src="https://github.com/user-attachments/assets/c595539d-e1cb-41d5-a78c-7e987f9d5490" />

Cette option ouvre une fenêtre permettant d'ajouter ou de supprimer des mots ou des phrases à anonymiser. Assurez-vous également que le terme de remplacement n'a pas déjà été utilisé dans la liste des termes anonymisés.

La liste est stockée dans le dossier du projet, dans le sous-dossier **qda**, au format JSON. Une fois toutes les importations terminées, le chercheur peut déplacer ce fichier vers un autre emplacement sécurisé pour référence. Le fichier JSON peut être ouvert dans un éditeur de texte comme le Bloc-notes.

Les fichiers texte importés et les colonnes qualitatives des enquêtes importées seront pseudonymisés.

**Les fichiers PDF ne sont pas pseudonymisés pour deux raisons** : la page PDF peut être visualisée telle quelle dans **Code Images**, et le texte exact est nécessaire pour l'affichage du texte PDF dans la zone **Code PDF**.

---

## Tableau de gestion des fichiers

<img width="1200" height="500" alt="image" src="https://github.com/user-attachments/assets/9a514f32-0bc1-43e4-a757-a551f1496b80" />

Chaque fichier est précédé d'une icône indiquant son type. Les autres colonnes affichent le nom du fichier, la date de création/téléchargement, l'association avec des cas et d'autres attributs. La capture d'écran ci-dessus montre un attribut créé par l'utilisateur appelé **« origin »** ainsi que des colonnes de référence (quand un fichier est lié à une référence).

---

## Fonctions générales

Les entrées de nom de fichier peuvent être modifiées dans la base de données. Les noms de fichiers originaux ne seront pas modifiés.

Un menu contextuel (clic droit) permet de visualiser, exporter ou supprimer un fichier.

Le bouton **« poubelle »** permet de sélectionner plusieurs fichiers pour suppression.
Le point d'interrogation **« ? »** ouvre cette page d'aide.

Les fichiers peuvent être visualisés soit via le menu contextuel (clic droit), soit en cliquant sur l'icône **« loupe »**. C'est ici que les transcriptions des fichiers audio et vidéo peuvent être saisies, lors de la visualisation d'un fichier audio ou vidéo.

Le bouton **« loupe »** ouvre le fichier actuellement sélectionné.

**Renommage groupé** de toutes les lignes de fichiers : vous fournissez un préfixe, puis un suffixe numéroté est ajouté. Cela s'applique à toutes les lignes visibles dans le tableau. Vous pouvez présélectionner les lignes visibles en faisant un clic droit et en choisissant **« afficher cette valeur »**, par exemple sur un attribut.
Ce bouton permet de renommer en masse les fichiers :
<img width="42" height="43" alt="bouton" src="https://github.com/user-attachments/assets/f03c0a5d-29ea-40c7-a5a1-917aeb894f9b" />

---

## Fichiers texte volumineux

Lors du codage de très gros fichiers texte, QualCoder devient lent. Dans **Code Texte**, QualCoder peut diviser les fichiers en segments de 50 000 caractères pour réduire la lenteur du programme. Cependant, la meilleure option lors de l'importation de gros fichiers texte est de les diviser en sections distinctes et de charger ces sections plus petites en tant que fichiers séparés. Donnez à chaque nom de fichier une logique ordonnée, par exemple : **livre_chap01.txt**, **livre_chap02.txt**.

---

## Attributs

Les attributs sont des variables permettant de décrire ou classer les fichiers. Ils peuvent être ajoutés via le bouton **« (x) »** ou via l'option de menu **« Gérer les attributs »**. Ils peuvent être de type caractère ou numérique.

L'image ci-dessus montre un attribut caractère ajouté appelé **« origin »**, ainsi qu'une des colonnes d'attributs de référence **« Ref-author »**.

Les attributs peuvent être exportés vers un fichier Excel via un bouton :
<img width="53" height="43" alt="image" src="https://github.com/user-attachments/assets/ccf331d7-63b6-460b-96df-41edd7cfe63b" />

---

## Filtrer les colonnes et les lignes

### Filtrer les lignes

Le menu contextuel (clic droit) permet également de réorganiser les fichiers par ordre alphabétique, par date, par type de fichier, et lorsque vous cliquez dans les colonnes **« nom »** ou **« date »**. Vous pouvez afficher uniquement les types d'attributs sélectionnés : choisissez **« Afficher cette valeur »**.
Vous pouvez également sélectionner **« Afficher les valeurs similaires »**. **« Afficher les valeurs similaires »** peut être appliqué plusieurs fois pour réduire davantage la liste des lignes affichées.

### Visibilité des colonnes

Parfois, de nombreuses colonnes peuvent être affichées, ce qui peut être accablant. Vous pouvez masquer des colonnes en faisant un clic droit sur la ligne d'en-tête du tableau pour masquer cette colonne ou masquer les colonnes commençant par un texte spécifique. Ou pour afficher les colonnes dont le nom commence par un texte spécifique.

### Enregistrer et charger les filtres de colonnes et de lignes

Trois boutons permettent d'enregistrer, de charger et de supprimer les paramètres de filtre, afin de visualiser rapidement le tableau de gestion des fichiers comme vous le souhaitez.
<img width="132" height="47" alt="Boutons pour enregistrer, charger et supprimer les filtres du tableau" src="https://github.com/user-attachments/assets/96ae69f5-1493-4aa8-a3f5-31ee15c22fef" />

---

## Ouvrir les URLs des attributs

Faites un clic droit sur une URL dans un attribut et ouvrez-la avec le navigateur web par défaut. Cela ne fonctionne que si l'attribut est une URL et qu'elle passe la validation d'URL.

---

## Copier la référence dans le presse-papiers

Utilisez l'option de menu contextuel (clic droit) pour les colonnes de référence (**Ref_Authors**, **Ref_Title**, **Ref_Journal**, **Ref_Type**, **Ref_Year**). Cela permet de copier la référence dans le presse-papiers au format Vancouver ou APA.

---

## Assigner un fichier sélectionné à un cas

Vous pouvez assigner un fichier à un cas via le menu contextuel (clic droit) dans la colonne **« cas »**.

---

## Intelligence artificielle

Si vous avez activé l'intégration de l'IA dans QualCoder, les nouveaux fichiers texte importés seront lus par le modèle d'IA local et stockés dans sa mémoire locale. Cela se fait en arrière-plan (la barre d'état affiche **« IA : lecture »**). Vous pouvez continuer à utiliser QualCoder, mais les fonctionnalités améliorées par l'IA ne seront pas disponibles tant que l'IA n'aura pas terminé la mise à jour de sa mémoire. Cela se produit également si vous modifiez un fichier texte déjà importé dans QualCoder.

Si vous avez l'impression que la mémoire de l'IA n'est pas synchronisée et a manqué certaines mises à jour de vos données (ce qui ne devrait pas se produire en temps normal), vous pouvez reconstruire la mémoire à partir de zéro en sélectionnant **« IA > Reconstruire la mémoire interne »**. Cela relira tous les documents, ce qui peut prendre un certain temps.

---

## Création et édition de fichiers texte

Vous pouvez créer et entrer du texte dans la base de données en appuyant sur l'icône **« crayon »**.

Bouton de création d'entrée texte :
<img width="57" height="47" alt="Bouton icône crayon pour créer un fichier texte brut" src="https://github.com/user-attachments/assets/3e25677d-56de-48b5-81e3-e292979672be" />

Les fichiers texte peuvent être modifiés à condition qu'aucun codage, annotation ou assignation de cas n'ait été effectué avec le fichier texte. La copie et le collage de texte depuis ailleurs (par exemple, une page web) peuvent afficher le formatage du texte copié/collé (par exemple, gras, italique, couleurs de premier plan et d'arrière-plan) jusqu'à ce que le fichier texte soit rouvert. **BONNE PRATIQUE : sauvegardez une copie du projet avant de modifier le texte d'un fichier texte codé.**

Les sections du fichier texte ou du fichier transcrit audio/vidéo auront des sections de texte soulignées en vert (cas assigné), jaune (annotation) ou rouge (codé). Le texte peut être modifié même après avoir été codé, annoté ou assigné (totalement ou partiellement) à un cas.

Vous pouvez sélectionner du texte non souligné et le copier/remplacer sans problème. Vous pouvez cliquer sur une position (**sans sélectionner de section de texte**) pour ensuite taper, supprimer ou coller du texte. Cela peut se produire dans des emplacements de texte soulignés (codés, annotés, assignés à un cas) ou non soulignés (non codés/annotés/assignés à un cas). Vous verrez les soulignements se déplacer à mesure que du texte est ajouté ou supprimé.

**Il y a quelques limitations : il est préférable d'éviter de sélectionner des sections de texte à supprimer (ou à taper ou coller par-dessus) si ces sections contiennent à la fois du texte non souligné (non codé/annoté/assigné à un cas) et du texte souligné (codé, annoté, assigné à un cas). La raison en est que les positions des codes/annotations/assignations de cas sous-jacents peuvent ne pas correspondre correctement comme prévu. Si vous avez effectué une modification qui, selon vous, a mal affecté ces positions codées/annotées/assignées à un cas, quittez la fenêtre d'édition de texte en appuyant sur le bouton **« Annuler »**.

---

## Fichiers audio et vidéo

Les fichiers vidéo (**mov**, **mp4**, **wmv**, **ogg**) et audio (**wav**, **mp3**, **m4a**) peuvent être importés. Le chargement d'un fichier audio ou vidéo créera automatiquement un fichier texte de transcription vide. Ce fichier aura le même nom que le fichier audio ou vidéo, mais avec une extension **« .txt »**. Initialement, cette transcription textuelle sera vide. Vous pouvez transcrire le fichier vous-même ou faire transcrire le fichier professionnellement et copier-coller le texte dans ce fichier.

Vous pouvez ouvrir un fichier audio ou vidéo pour le visualiser. Pour les vidéos, cela ouvre deux fenêtres : une pour visualiser la vidéo et une autre pour les contrôles et une transcription, comme montré ci-dessous. Lorsqu'un fichier audio ou vidéo est chargé dans QualCoder, un fichier texte de transcription vide est automatiquement créé. Le nom du fichier de transcription est par défaut **« nomdevidéo.txt »**.

Le fichier texte transcrit est créé et stocké dans la base de données et peut être exporté vers un fichier texte. Le fichier peut être modifié. **Note importante : les modifications se font dans la base de données. Le fichier texte original n'est PAS modifié. Les transcriptions ne peuvent pas être liées en tant que fichier externe.**

Si vous avez un fichier **« .srt »** (un fichier de traduction lu par VLC), vous pouvez le placer à côté de la vidéo dans le dossier du projet, dans le dossier vidéo, comme montré dans l'image ci-dessous. Lorsque la vidéo est lue, les mots de la traduction s'afficheront en sous-titres dans la vidéo. De plus, si vous ouvrez le fichier **« .srt »** dans un éditeur de texte, copiez et collez ce texte dans le fichier **« vidéo.mp4.transcrit »**. Ce texte s'affichera alors comme la transcription de la vidéo.

![image](https://github.com/user-attachments/assets/221aac54-1907-41a7-95cc-26899250b13a)

Si **ffmpeg** est installé, une forme d'onde est affichée. Si le fichier audio contient plusieurs pistes audio, seule la première piste est affichée pour la forme d'onde.

---

### Transcrire l'audio et la vidéo

Pour transcrire, ouvrez l'option de menu **« Gérer les fichiers »**, puis visualisez le fichier audio ou vidéo. L'audio/vidéo se chargera et une zone de texte permettra de saisir le texte transcrit. QualCoder ne dispose pas de fonctionnalité automatisée de conversion audio en texte. D'autres services comme **otter.ai** peuvent vous aider.
Les transcriptions doivent idéalement contenir des horodatages indiquant quand le texte est prononcé pendant la vidéo. Les formats suivants sont reconnus par QualCoder, où **« SSS »** représente les millisecondes :

**[hh:mm:ss]**, **[mm:ss]**, **[hh.mm.ss]**, **[mm.ss]**

Pour les formats ci-dessus, les crochets peuvent être **« [] »** ou **« {} »**. Ceux-ci peuvent être modifiés dans le menu **« Paramètres »**.

**#hh:mm:ss.SSS#**, **hh:mm:ss,SSS --> hh:mm:ss,SSS**

Le fichier vidéo peut contenir plusieurs pistes audio. Une liste déroulante permet de choisir une autre piste audio.

Les transcriptions peuvent contenir des noms d'intervenants indiquant qui parle. Les noms d'intervenants sont mis entre crochets sous ce format : **[nom]** ou **{nom}**. Les points **« . »** et les deux-points **« : »** ne peuvent pas être utilisés dans les noms d'intervenants.

La transcription manuelle de l'audio et de la vidéo est facilitée par quelques raccourcis clavier. La transcription et l'ajout ou l'édition de texte ne peuvent se faire que si le texte existant n'a pas de codes ni d'annotations. La copie et le collage de texte depuis ailleurs (par exemple, une page web) peuvent afficher le formatage du texte copié/collé (par exemple, gras, italique, couleurs de premier plan et d'arrière-plan) jusqu'à ce que le fichier texte soit rouvert.

Les raccourcis disponibles sont :

- **Ctrl + R** : Rem bobiner de 5 secondes
- **Alt + R** (ou **Alt + Moins** à partir de la version 3.3+) : Rem bobiner de 30 secondes
- **Alt + F** (ou **Alt + Plus** à partir de la version 3.3+) : Avancer de 30 secondes
- **Ctrl + S** ou **Ctrl + P** : Arrêter/Démarrer la lecture audio/vidéo. Le passage de l'arrêt à la lecture rembobine de 2 secondes.
- **Ctrl + Maj + >** : Augmenter la vitesse de lecture jusqu'à 2 fois
- **Ctrl + Maj + <** : Diminuer la vitesse de lecture jusqu'à 0,1
- **Ctrl + T** : Insérer un horodatage sous ce format : **[hh.mm.ss]**
- **Ctrl + N** : Ajouter un nom d'intervenant. Cela met également en pause l'audio/vidéo.
- **Ctrl + D** : Supprimer un ou plusieurs noms d'intervenants.
- **Ctrl + 1 à 8** : Insérer un nom d'intervenant sous ce format : **[nom]**

Les contrôles ci-dessus sont également disponibles depuis les icônes de la barre d'outils.

---

### Reconnaissance vocale

Voici quelques approches pour transcrire la parole en texte :
- **Microsoft Word Transcribe**
- **Zoom transcription**
- **Otter AI** : [otter.ai](https://otter.ai/)
- **VOSK** : [alphacephei.com/vosk/install](https://alphacephei.com/vosk/install)
- **audiopolis** : [github.com/audapolis/audapolis](https://github.com/audapolis/audapolis)
- **noScribe** (transcripteur hors ligne pour 99 langues différentes) : [github.com/kaixxx/noScribe](https://github.com/kaixxx/noScribe)

---

### Transcriptions contenant des codes, annotations et/ou assignations de cas

Les sections du fichier texte ou du fichier audio/vidéo transcrit auront des sections de texte soulignées en vert (cas assigné), jaune (annotation) ou rouge (codé). Le texte peut être modifié même après avoir été codé, annoté ou assigné (totalement ou partiellement) à un cas.

Vous pouvez sélectionner du texte non souligné et le copier/remplacer sans problème. Vous pouvez cliquer sur une position (**sans sélectionner de texte**) pour ensuite taper, supprimer ou coller du texte. Cela peut se produire dans des emplacements de texte soulignés (codés, annotés, assignés à un cas) ou non soulignés (non codés/annotés/assignés à un cas). Vous verrez les soulignements se déplacer à mesure que du texte est ajouté ou supprimé.

**Il y a quelques limitations : il est préférable d'éviter de sélectionner des sections de texte à supprimer (ou à taper ou coller par-dessus) si ces sections contiennent à la fois du texte non souligné (non codé/annoté/assigné à un cas) et du texte souligné (codé, annoté, assigné à un cas). La raison en est que les positions des codes/annotations/assignations de cas sous-jacents peuvent ne pas correspondre correctement comme prévu. Si vous avez effectué une modification qui, selon vous, a mal affecté ces positions codées/annotées/assignées à un cas, quittez la fenêtre d'édition de texte en appuyant sur le bouton **« Annuler »**.

---

## Fichiers d'exemple

Quelques fichiers d'exemple se trouvent dans le dossier **« Examples »**. Ceux-ci peuvent être utilisés pour tester l'importation de fichiers de différents formats de documents et l'importation d'une image. Il y a également des fichiers d'exemple pour tester l'importation d'attributs de cas et l'importation d'une enquête.

---

## Gérer les liens rompus vers les fichiers

Si votre projet contient des fichiers liés en externe, ces fichiers peuvent être déplacés, renommés ou supprimés. Les fichiers liés sont indiqués par une icône de lien rouge.

La fonction **« Gérer les liens rompus »** permet de modifier le lien existant et de le remplacer par un nouveau, en trouvant le fichier correct et son emplacement. Les liens rompus affectent les images, les fichiers audio et vidéo. Le texte n'est pas impacté, sauf si vous devez consulter un document texte original. En effet, le texte brut, sur lequel le codage est effectué, est importé dans la base de données de QualCoder.

La recherche automatisée prend du temps et parcourt le répertoire personnel de l'utilisateur pour trouver jusqu'à 2 noms de fichiers correspondants. Cela est destiné à accélérer la recherche de liens vers des fichiers lorsque le lien actuel ne pointe vers rien.

Les données de tweet sont chargées dans des fichiers de base de données individuels (**Gérer les fichiers**). Les données utilisateur sont chargées dans des cas (**Gérer les cas**). Plusieurs tweets (stockés en tant que fichiers) sont assignés à l'utilisateur correspondant (cas).

