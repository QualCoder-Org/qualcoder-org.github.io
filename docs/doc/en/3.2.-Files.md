#  Manage Files

You need to link to files or load files into QualCoder prior to coding. 

## Importing files

Import text from plain text documents, docx, epub, md, odt, pdf and rtf (3.8+) documents. Import images from: jpg, jpeg and png. Import audio/video formats: mp3, m4a, mp4, wav, mov, ogg. Pdfs can be coded as text or as an image.

Alternatively, you can link to files locally in your computer file system. This may be a good option if you have a specific folder structure that is important to your project.

Import and link buttons: <img width="92" height="43" alt="Import and link buttons" src="https://github.com/user-attachments/assets/dc98a9ef-0d0c-4365-b444-9b2c3f145cab" />

Linked files  can be imported into the project folder, and conversely files stored in the project folder can be exported out of the project folder and linked to. 

Import linked, export to linked buttons: <img width="88" height="45" alt="Import linked file, export to linked file buttons" src="https://github.com/user-attachments/assets/81951366-1a88-4069-b82d-8d959cf2aaf4" />

### Pdfs - plain text extraction

PDF importing can be problematic and may need editing as formatting is lost. Large PDF files take a long time to import. QualCoder extracts text from the Pdf files using pdfminer.six, but you may choose to use another extraction program for the plain text, suggestions include: www.pdf2go.com/  www.pdfmate.com/pdf-converter-free.html  https://pandoc.org/ and then copy the plain text across. However, if you want to use the _Code Pdf_ function within QualCoder which allows text coding with the PDF text showing in place like the original PDF, you must use QualCoder's plain text extraction, and not edit the extracted plain text.

### Pseudonymisation (data de-identification)

In version 3.8+ pseudonymisation is available to replace words or phrases.
For many languages (possibly except Chinese, Japanese, Korean), providing the character before the phrase and the character after the phrase are non-alphabetical and non-numerical, this is an easy cut-off to enact. Pseudonymisation is case-sensitive. Original words must be at least 2 characters long, and pseudonyms must be a least 3 characters long. Alternatively, leave the pseudonym entry blank, for a randomly generated term.

An 'Anonymise on import' button is accessed in Manage files. This allows you to enter a list of original terms to pseudonyms, and must be in place before any importing text documents. It does not apply retrospectively to already imported documents.

<img width="43" height="42" alt="image" src="https://github.com/user-attachments/assets/c595539d-e1cb-41d5-a78c-7e987f9d5490" />
The button opens a window to allow the user to add, or remove from the list, the words or phrases to be anonymised. Additionally, for each new phrase to be pseudononymised, check that the replacement term has not already been used in the anonymised list.

The list you create is stored within the project folder, the qda folder. The list is stored in json format. After all importing is done, the researcher can remove the file to a different safe location, for reference as needed. The json file can be opened in a text editor such as NotePad.

Imported text files, and qualitative columns in imported surveys will be pseudonymised.

PDF files are not pseudonymised for two reasons. The PDF page can be viewed as is, in _Code Images_. Also, the exact text is needed for the plain text to PDF text, in the Code PDF area.

## Manage files table

<img width="1200" height="500" alt="image" src="https://github.com/user-attachments/assets/9a514f32-0bc1-43e4-a757-a551f1496b80" />

Each file is preceded with an icon that describes the type of file. Other columns show the file name, date of creation/upload, association with cases and other attributes. The screenshot above shows a use created attribute called 'origin' and reference columns (where a file is linked to a reference). 

## General functions

Filename entries can be changed in the database. The original file names of the actual files will not be changed.

A right-click context menu allows you to view, export, delete a current file. The trashcan button is an option to select multiple files for deletion.  The question mark '?' opens this help page.

Files can be viewed either by right-click menu on the file, or by clicking the magnifying glass icon. This is where transcripts for audio and video can be entered, when viewing an audio or video file.

<img width="42" height="43" alt="button" src="https://github.com/user-attachments/assets/f03c0a5d-29ea-40c7-a5a1-917aeb894f9b" />Bulk rename of all file rows. You provide a prefix and then a numbered suffix is added. This applies to all visible rows in the table. You can pre-select visible rows by right click and 'show this value' for example on an attribute.
This button allows you to bulk rename files: 

## Large text files

When coding really large text files QualCoder becomes slow. In _Code Text_, QualCoder can split the files into 50,000 character chunks to reduce the slowness of the program. However, the best option when importing large text files is to split them into separate sections and load those smaller sections as separate files instead. Give each filename some ordered logic too, e.g. book_chap01.txt, book_chap02.txt.

## Attributes

Attributes are variables to describe the files. These can be added using the (x) button or through the Manage Attributes menu option. They can be character or numeric. 

The above image shows an added character attribute called _origin_ as well as one of several reference attribute columns _Ref-author_.

Attributes can be exported to an Excel file via a button: <img width="53" height="43" alt="image" src="https://github.com/user-attachments/assets/ccf331d7-63b6-460b-96df-41edd7cfe63b" />

## Filtering columns and rows

### Filtering rows

The right-click context menu also allow you to re-order the files according to name, date, and file-type and when right clicking in the name or date columns. You can show only selected attribute types: Choose Show this value option
You can also select Show values like. Show values like can be applied multiple times to further shorten the list of displayed rows.

### Column visibility

Sometimes a lot of columns can be displayed which can be overwhelming. You can hide columns by right-click on the table header row for options to hide that column or to hide columns beginning with specific text. Or to show columns where the column name starts with specific text.

### Save and load column and row filters

There are three buttons to save, load and delete filter settings, so that you can view the mange files table in ways that you want, quickly.

<img width="132" height="47" alt="Buttons to save, load and delete table filters" src="https://github.com/user-attachments/assets/96ae69f5-1493-4aa8-a3f5-31ee15c22fef" />

## Open attribute URLs

Right-click on a URL in an attribute and open the URL with the default web browser. This is only if the attribute is a URL and it passes URL validation.

## Copy reference to clipboard

Use the right-click menu option for reference columns (Ref_Authors, Ref_Title, Ref_Journal, Ref_Type, Ref_Year). This allows copying reference to the clipboard as a Vancouver or APA style reference.

## Assign a selected file to a case

You can assign a file to a case via right-click menu when in the cases column.

## Artificial Intelligence

If you have enabled AI integration in QualCoder, newly imported text files will be read by the local AI model and stored in its local memory. This happens in the background (status bar shows "AI: reading"). You can continue to use QualCoder, but the AI enhanced features will not be available until the AI has finished updating its memory. This also happens if you edit an already imported text file in QualCoder.

If you ever get the impression that the AI memory is out of sync and has missed some updates to your data (which should not happen under normal circumstances), you can rebuild the memory from scratch by selecting "AI > Rebuild Internal Memory". This will reread all documents, which may take a while. 

## Text file creation and editing

You can create and enter text into text in the database, by pressing the pencil icon. 

Create text entry button: <img width="57" height="47" alt="Pencil icon button, to create a plain text file" src="https://github.com/user-attachments/assets/3e25677d-56de-48b5-81e3-e292979672be" />

Text files can be edited providing no coding or annotations or case assignment have been performed with the text file. **BEST PRACTICE: Save a copy of the project before editing the text of a coded text file.**

Sections of the text file or audio/video transcribed file will have sections of text underlined in green (case assigned), yellow (annotation) or red (coded). Text can be edited even after the text is coded or annotated or assigned (fully or partially) to a case. 

You can select text that is not underlined and copy/replace without problems. You can click on a position (**without selecting a section of text**) to then type, delete, or paste text. This can occur in underlined (coded, annotated, case-assigned) or not underlined (not coded/annotated/case-assigned) text locations. You will see the underlines shift as text is added or removed.

**There are some limitations: It is best to avoid selecting sections of text to delete (or to type or paste over) if those sections have a combination of not underlined (not coded/annotated/case-assigned) and underlined (coded, annotated, case-assigned). The reason is that positions of the underlying codes/annotations/case-assigned may not correctly match as intended. If you have made a change that you think has affected these coded/annotated/case-assigned positions badly, exit the text editing window by pressing the Cancel button.**

## Audio and Video files

Video (mov, mp4, wmv, ogg) and audio files (wav, mp3, m4a) can be imported. Loading an audio or video file will also automatically create a blank text transcribed file. This file will have the same name as the audio or video file, but have a '.txt' suffix. Initially, this text transcription will be empty. You can transcribe the file yourself or get the file professionally transcribed and copy and paste the text into this file.

You can open an audio or video file to view. for video, this opens two windows, one for viewing the video and one for the controls and a transcript, shown below. When an audio or video file is loaded into QualCoder a blank text transcription file is automatically created. The transcription file name defaults to videoname.txt. 

The transcribed text file is created and stored within the database, and can be exported to a text file. The file can be edited.  **Important note: The edits occur within the database. An original text file is NOT changed. Transcriptions cannot be linked as an external file.** 

If you have a .srt file (a translation file that is read by VLC) you can place this alongside the video inside the project folder, in the video folder, shown in the image below. When the video is played, the translation wording will be shown as subtitles in the video. Also, if you open the .srt file in a text editor, copy and paste this into the associated video text file. Then this text will be shown as the transcription for the video. 

![image](https://github.com/user-attachments/assets/221aac54-1907-41a7-95cc-26899250b13a)

If you have ffmpeg installed a waveform is shown. If the audio files has multiple audio tracks, only the first track is shown for the waveform.

### Transcribing audio and video

To transcribe open the Manage files menu option, then view the audio or video file. The audio/video will load and there will be a text area to enter transcribed text. 

QualCoder does not have an automated audio to text feature. Use other services such as: Microsoft Word Transcribe, Zoom transcription, Otter AI: https://otter.ai/, VOSK. https://alphacephei.com/vosk/install, audiopolis https://github.com/audapolis/audapolis, noScribe an offline transcriber for 99 different languages: https://github.com/kaixxx/noScribe

Transcriptions may contain timestamps indicating when the text is being pronounced during the video. The following formats are recognised by QualCoder, where SSS are milliseconds:

[hh:mm:ss] , [mm:ss] , [hh.mm.ss] , [mm.ss] 

For the above, brackets can be []  or {}. These can be changed in the Settings menu.

#hh:mm:ss.SSS# , hh:mm:ss,SSS --> hh:mm:ss,SSS

The video file might contain multiple audio tracks. There is a drop down box that allows you to choose another audio track.

Transcriptions may contain speaker names indicating who is speaking. Speaker names are bracketed in this format: [name] or {name} or name: .

Manually transcribing audio and video is helped with some keyboard shortcuts. Transcribing and adding or editing text can only occur if the existing text has no codes or annotations.

The key shortcuts are:

Ctrl R		Rewind 5 seconds

Alt R	Alt Minus (release 3.3+)	Rewind 30 seconds

Alt F	Alt Plus (release 3.3+)	Forward 30 seconds

Ctrl S or Ctrl P	Stop/Start toggle audio/video. From stop to play will rewind 2 seconds.

Ctrl Shift > Increase play rate up to 2 times

Ctrl Shift < Decrease play rate down to 0.1 

The above controls are also available from the toolbar icons.

Ctrl T		Insert timestamp in this format: [hh.mm.ss]

Ctrl + N		Add a speaker name. This also pauses the audio/video.

Ctrl D		Delete one or more speaker names.

Ctrl 1 to 8	Insert speaker name in this format: [name]


### Transcriptions that have codes, annotations and / or case-assigned

Sections of the text file or audio/video transcribed file will have sections of text underlined in green (case assigned), yellow (annotation) or red (coded). Text can be edited even after the text is coded or annotated or assigned (fully or partially) to a case. 

You can select text that is not underlined and copy/replace without problems. You can click on a position (**without selecting text**) to then type, delete, or paste text. This can occur in underlined (coded, annotated, case-assigned) or not underlined (not coded/annotated/case-assigned) text locations. You will see the underlines shift as text is added or removed.

**There are some limitations: It is best to avoid selecting sections of text to delete (or to type or paste over) if those sections have a combination of not underlined (not coded/annotated/case-assigned) and underlined (coded, annotated, case-assigned). The reason is that positions of the underlying codes/annotations/case-assigned may not correctly match as intended. If you have made a change that you think has affected these coded/annotated/case-assigned positions badly, exit the text editing window by pressing the Cancel button.**

## Example files

There are a few sample files in the Examples folder. These can be used to test importing files of different document formats and of importing an image. There are also example files to test importing case attributes, and for importing a survey.

## Manage Bad Links to Files

If your project contains externally linked files, these files can be moved, renamed, or deleted.

The Manage bad links feature allows you to edit the existing link and replace it with a new one, by finding the correct file and itâ€™s location. Bad links do affect images, audio and video files. Text is not impacted unless you need to review an original text document. This is because the plain text, on which coding occurs, is imported into the QualCoder database.

The automated search takes time and looks through the user's home directory for up to 2 matching file names. This intended to speed up finding the link to files where the link is currently pointing to nothing.


